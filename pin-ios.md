# Pin 使用技巧

Pin 是 iOS & OS X 平台上面的一款剪贴板增强工具，旨在提高剪贴板的使用体验。一直以来 Pin 的一些复杂操作都被吐槽学习成本较高，本文是从 Pin 开发者的角度谈一谈 Pin 的使用技巧，将会涉及到以下几个方面：

> * 剪贴板使用体验
> * 使用动作增强剪贴板
> * 利用预览快速浏览信息
> * 键盘和分享扩展入口
> * FAQ

## 剪贴板使用体验

### 1. 复制 & 粘贴

保存剪贴板历史记录是 Pin 最基本的功能，你只需要复制文本之后，下拉通知中心，剪贴板的文本就会被记录在历史记录里面，同时数据也会被推送到所有登陆了同一个 iCloud 的 iOS 或 Mac 设备，该设备的剪贴板会被自动更新。在通知中心点击即可复制，你可以通过翻页按钮上下翻页。

> 出于性能的考虑，通知中心只会展现最近的 25 条记录，可以通过点击更多跳到 app 里面查看更多。

### 2. 编辑 & 删除

点击小箭头或者长按，可以打开一个菜单，方便的对其进行置顶、编辑和删除操作，在 app 里面这些操作也可以通过滑动或者 3D Touch 呼出。

### 3. 操作按钮

Pin 的剪贴板插件在通知中心提供了几个操作按钮，提供了如下的功能：

1. 云端：将面板切换到 iCloud 数据，可以浏览来自其他设备同步的内容
2. 添加：跳转至 app 主动添加一条文本
3. 清除：清除剪贴板当前的内容
4. 更多：跳转至 app 浏览更多剪贴板数据

> 点击通知中心左侧空白区域也可以翻页，方便左右手使用习惯。

> 长按清除键可以清除所有的历史数据，请谨慎使用。

### 4. 偏好设置

Pin 的剪贴板提供了丰富的偏好设置，例如可以设置通知中心显示行数、历史记录数量限制、是否去除首尾空格等等。同时 Pin 会保存最近删除的 15 条数据，方便恢复误删的数据。

> 我个人的建议是不要将通知中心行数调太多，会对性能有较大影响。

> 请不要在 Pin 的剪贴板里面存储过长的文本，这样对通知中心的性能是一个很大的挑战，也会使得推送消息失败，Pin 并不是一个文本编辑工具。

## 使用动作增强剪贴板

相对于其他同类产品而言，Pin 希望能够在处理剪贴板方面为你多做一步，这一个考虑很大程度来自于基于文字的处理已经成了人们日常生活中不可或缺的一部分，下面是对 Pin 的动作模块的一些介绍。

### 1. 什么是动作

说白了动作就是一个 URL Scheme，和绝大部分其他的 Launcher 一样，Pin 提供了一个基于 URL Scheme 的启动工具，你可以在这里启动 Pin 和其他 app，甚至是直接在通知中心完成一些操作。

> Pin 预置了很多的动作，你也可以自己添加你想要的。

### 2. 如何处理文本

Pin 的动作模块在打开的时候，会将一个占位符替换成剪贴板的内容，例如打开 Google 的动作是：https://www.google.com/ 如果你希望打开 Google 同时搜索剪贴板的话，动作将会是：https://www.google.com/#newwindow=1&q=%@

上面的 %@ 就是将会被剪贴板代替的内容，在编写其他动作的时候也是同样的道理。

> 如果你希望在通知中心打开一个动作可以临时忽略剪贴板的话，不妨试试长按打开。

> 设置好的动作项也会通过 iCloud 进行同步。

### 3. Pin 特有的一些扩展功能

Pin 提供了一系列基于剪贴板的扩展功能，他们都是基于剪贴板数据的，在这里我们会挑最常见的几个做个介绍，这些动作都可以在 Pin 的扩展中心找到，并且添加到通知中心。

#### 抓图：pin://gifsender

抓图是目前 Pin 的众多功能里面很受欢迎的一个，他的功能是让 iOS 各 app 之间的图片分享（尤其是 GIF）变得更容易，Pin 支持各种各样的抓图，要知道他们怎么用只要记住三个大类：

- 直接处理来自剪贴板的图片
- 从剪贴板的图片链接下载
- 从剪贴板的网页链接打开网页，然后长按下载

所以一个典型的的场景，从微博分享 GIF 到微信，流程将是这样：

- 点击微博右上角按钮，然后复制微博链接
- 从通知中心启动抓图，第一次可能需要登录
- 点开缩略图，因为微博网页版默认展示一个静态的小图
- 长按你需要的 GIF，图片就被下载下来了

接下来你就可以通过你喜欢的方式将他们保存或者分享到其他的社交网络。当然抓图也还有一些其他的场景，例如在 Safari 里面看到之后长按复制，打开抓图，或者是选中图片之后唤起 Safari 的分享功能，都可以抓到别的地方。

> 关于抓图的更多细节，可以参考作者的视频教程：[Pin 剪贴板扩展](http://ioszen.com/pin)。

#### 快速保存：save://notes

如果你和我一样是系统 app 的忠实使用者，我们经常会有一个场景是需要把复制的文字快速保存到这些地方：备忘录、提醒事项、日历等等，直接复制之后找到 app 打开，然后粘贴进去是一个流程较长的做法，保存功能是为了优化这个过程准备的。

- 在通知中心点击保存备忘录的动作，如果剪贴板有数据，将会在通知中心打开一个小的面板，直接点保存即可完成。如果剪贴板没有数据，Pin 将会自动打开 app 并弹出面板，方便你通过输入的方式快速保存备忘录
- 提醒事项的体验和备忘录基本相同，日历事项则是保存事件后会打开日历 app，方便你编辑时间

> 由于 iOS 的系统限制，任何插件再通知中心都不能打开键盘，所以更进一步的编辑操作建议在 app 里面完成。

#### 快速分享：pin://clipshare

为了加强 iOS 各 app 之间的共享能力，Pin 提供了方便分享剪贴板数据的功能，当你复制了文本或者图片的时候，启动它即可弹出系统的分享面板。在这里你可以很方便的将图片分享到微信、QQ 或者将其 AirDrop 到你的 Mac 上面。

> 当剪贴板没有数据的时候，Pin 的分享动作将会自动挑选系统相册的最后一张图作为分享内容。

#### 微信和 QQ：share://wechat & share://qq

当你剪贴板有一张图片或者一段文本的时候，不仅可以通过上述的方式分享出去，也可以通过这两个动作分享到微信或者 QQ，与其官方分享扩展不同的是，Pin 的分享都是支持 GIF 的。

> 由于通知中心的内存限制，如果是特别大的图片还是建议在 app 里面完成。

## 利用预览快速浏览信息

我们经常会有一个场景，是希望可以快速的搜索某一个单词，或者在复制了一个连接之后稍微看一眼，在 Safari 可以完成这一个动作，但是 Pin 破天荒的将 Safari 挂在了通知中心上，这个动作的效率将大大提高。

从 2.5 版本开始，你可以将多个动作挂在预览面板，在预览面板上支持多个 tab 随意切换，例如添加了 Google 搜索，只需要复制文字，打开通知中心，即可在通知中心预览 Google 搜索这个文字的结果。

由于是全功能的 Safari，在预览面板甚至可以方便的复制图片或者播放视频。

> 预览功能将会自动提取剪贴板中的链接，如果发现链接将会出现一个链接 tab。

> 你也可以将固定的链接放在预览功能上面，这样的话可以随时打开预览面板浏览网页。

> 预览面板的高度可以在设置中调节。

## 键盘和分享扩展入口

### 键盘
为了更方便文本输入操作，Pin 提供了一个自定义键盘，在系统设置里面将其添加到键盘列表，并打开“允许完全访问”即可使用。作为另一个重要入口，Pin 的键盘提供了几乎上述全部的功能，并且相比通知中心的体验，键盘要更稳定、迅速。对于相似的体验本文将不再赘述，下面提到一些有趣的地方。

> 在文本列表点击菜单栏可以滚回顶部。

> 长按文本可以预览全部内容。

> GIF 面板读取来自 app 内图库的图片，可以分享 GIF。

> 预览面板的高度可以任意调节，方式是按住地址栏中间上下滑动。

> 可以在微信聊天的时候快速打开预览面板搜索图片，然后复制粘贴到微信的会话框。

> 当然，在键盘上也可以做保存备忘录等快捷操作。

### 分享扩展

Pin 的分享扩展是我个人使用频率最高的工具，它可以在绝大部分能进行分享动作的地方启动，例如 Safari、相册。并且 Pin 的分享扩展会自动检测来分享数据的类型，对于文本和图片将会展现不同的界面。下面是一些常见场景：

1. 查询：选中文本后在分享面板点击 Pin，即可预览
2. 相册：在相册中选中图片弹出 Pin，将可以分享图片，并且 GIF 图片也将动起来
3. Safari：在 Safari 中选择文本或者图片，弹出后进行网页截图或者分享等操作
4. 备忘录：在备忘录分享中打开 Pin，可以将文本保存成图片

> 总之可以使用分享扩展地方，你都应该尝试一下 Pin，也许会有惊喜。

> 分享扩展支持下拉快速关闭，这样你就不用去点那个够不着的按钮了。

## FAQ

这里搜集了很多 Pin 上线以来被问的最多的问题，在这里做一个统一的解答。

Q: 为什么我连续复制多次，却只有最后一次被记录了？
A: 因为 iOS 的限制，目前的剪贴板工具都只能在下拉通知中心后完成保存。

Q: 为什么我在微博抓取的 GIF 不会动？
A: 因为微博网页版默认展示缩略图，需要点开之后再长按下载。

Q: 为什么我的 iCloud 同步不了？
A: 请在登陆了同一个 iCloud 的设备上都允许 Pin 访问 iCloud，同时打开了 iCloud Drive 功能。

Q: 为什么预览界面无法打开键盘？
A: 预览功能是快速搜索或浏览网页用的，iOS 系统层面不允许 app 在通知中心弹出键盘。

Q: 为什么 Pin 的键盘不能输入中文？
A: Pin 的键盘设计之初是为了方便粘贴文本，中文输入法要达到可用的程度是一个非常复杂的事情，对于目前的开发精力而言无法满足。

Q: 为什么 Pin 的键盘不能访问图库和网络？
A: 你需要在系统设置里面为 Pin 打开“允许完全访问”。

Q: 使用全功能浏览器这个功能是做什么的？
A: 预览功能打开之后使用的是 SafariViewController，否则是 WebView，对于 iOS 9 以上的设备强烈建议打开。

## 结语

Pin 的诞生是为了改善剪贴板的使用体验，发展到现在已经增加了很多对剪贴板的扩展功能。也许已经有一些臃肿，或者逻辑混乱，作者希望能够在日后的更新中逐渐的解决这些问题。希望 Pin 可以成为剪贴板工具中优秀的一员，成为改善生活、工作效率的好应用。有任何建议或者意见都欢迎和作者取得联系：[关于](http://ioszen.com/about)。
